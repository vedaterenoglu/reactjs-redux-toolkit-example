
--SINGLE SOURCE OF TRUTH (SSOT) IMPLEMENTATION

OBJECTIVE
Eliminate all data duplication by establishing centralized definitions across the codebase.
ANALYSIS PHASE

AUDIT: Find all duplicate definitions (types, constants, configs, schemas)
IDENTIFY: Categorize duplications (exact, semantic, partial, evolutionary)
PRIORITIZE: HIGH (core entities) â†’ MEDIUM (shared utilities) â†’ LOW (reusable types)

IMPLEMENTATION STRUCTURE
src/
â”œâ”€â”€ types/          # All TypeScript definitions
â”‚   â”œâ”€â”€ core/       # Business entities
â”‚   â”œâ”€â”€ api/        # API contracts
â”‚   â””â”€â”€ ui/         # UI-specific types
â”œâ”€â”€ constants/      # All constant values
â”‚   â”œâ”€â”€ api.ts      # Endpoints, status codes
â”‚   â”œâ”€â”€ business.ts # Rules, limits
â”‚   â””â”€â”€ validation.ts # Patterns, rules
â””â”€â”€ config/         # All configurations
    â”œâ”€â”€ environment.ts
    â””â”€â”€ features.ts
MIGRATION PROCESS

CREATE: Centralized definitions first
UPDATE: Imports incrementally (file-by-file)
REMOVE: Duplicates after successful migration
VALIDATE: No broken references
TEST: Full test suite passes

MANDATORY CONSTRAINTS

âœ… Centralize all shared definitions (DO)
âœ… Use barrel exports for clean imports (DO)
âœ… Migrate incrementally to avoid breaks (DO)
âœ… Document any intentional exceptions (DO)
âŒ NEVER duplicate business entity types (NOT DO)
âŒ NEVER copy-paste shared constants (NOT DO)

VERIFICATION:

 All shared types in centralized location
 Barrel exports implemented
 No duplicate definitions found
 Exceptions documented with rationale

ğŸš« FORBIDDEN

âŒ NEVER redefine existing types locally (NOT DO)
âŒ NEVER create parallel type definitions (NOT DO)
âŒ NEVER skip migration testing (NOT DO)
âŒ NEVER ignore ESLint SSOT rules (NOT DO)
âœ… Reference only from central source (DO)
âœ… Remove duplicates after migration (DO)

VERIFICATION:

 No local type redefinitions
 All imports from central source
 ESLint rules enforced
 Old duplicates removed

âœ… SUCCESS CRITERIA

âœ… Zero duplicate type definitions (DO)
âœ… All imports use central sources (DO)
âœ… TypeScript compilation succeeds (DO)
âœ… 100% test coverage maintained (DO)
âœ… ESLint rules prevent future duplication (DO)
âŒ NEVER compromise type safety (NOT DO)

VERIFICATION:

 Duplication audit shows zero
 Import analysis confirms SSOT
 All tests passing
 ESLint rules active and enforced

DELIVERABLES

Centralized Structure: Types, constants, configs organized
Migration Plan: File-by-file update sequence
Import Updates: All references point to central source
ESLint Rules: Automated SSOT enforcement
Documentation: SSOT patterns and guidelines

ACCEPTABLE EXCEPTIONS

Test-specific mocks and fixtures
Component-internal types (not shared)
Performance-critical optimizations (documented)
Temporary migration states (marked with TODO)